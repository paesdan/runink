# ======================================
# Contract Definition
# ======================================
[contract]
name = "contracts/cdm_trade/fdc3events.go"
version = "1.0.0"
schema_hash = "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"

# ======================================
# Compliance and Governance
# ======================================
[compliance]
level = ["SOX", "GDPR", "PCI-DSS"]
classification = "restricted"
governance_tier = "platinum"

# ======================================
# Execution Context
# ======================================
[execution]
herd = "finance"
module_layer = "silver"
slo_target = "99.95"
default_masking_policy = "redact"
metrics_namespace = "runi_finance"
logs_tag = "finance"
tracing_sample_rate = 1.0

# ======================================
# Data Sources
# ======================================
[sources]
source_name = "Trade Events Stream"
source_uri = "kafka://topics.trade_events"

# ======================================
# Data Sinks
# ======================================
[sinks]
valid_sink_name = "Validated Trades Table"
valid_sink_uri = "snowflake://TRADE_PIPELINE.VALIDATED_TRADES"
invalid_sink_name = "Invalid Trades DLQ"
invalid_sink_uri = "snowflake://DLQ.INVALID_TRADES"

# ======================================
# Golden Testing
# ======================================
[golden]
input = "golden/cdm_trade/fdc3events.input.json"
output = "golden/cdm_trade/fdc3events.validated.golden.json"

# ======================================
# Alerting and Notifications
# ======================================
[alerts]
on_schema_drift = "alerts/finance_data_validation"
on_masking_failure = "alerts/finance_security_breach"

# ======================================
# Retention Policies
# ======================================
[retention]
lineage_retention_days = 365
log_retention_days = 180
snapshot_retention_days = 730

# ======================================
# Audit Settings
# ======================================
[audit]
critical_event_alerting = true
storage_backend = "s3://compliance-audits"
